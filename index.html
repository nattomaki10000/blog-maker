<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nattomaki10000 Blog Studio</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js" defer></script>
    <script src="https://esm.sh/css-doodle/css-doodle.min.js?raw"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

    <style>
        :root { --accent: #ff4a4a; --bg: #0a0c27; }
        body { margin: 0; padding: 0; font-family: 'Poppins', sans-serif; background: var(--bg); color: #fff; min-height: 100vh; display: flex; flex-direction: column; align-items: center; }

        /* --- 背景演出 --- */
        .background { position: fixed; inset: 0; z-index: -2; overflow: hidden; }
        .inseki-container { position: fixed; inset: 0; z-index: -1; pointer-events: none; }
        .inseki::before {
            content: ""; position: absolute; top: -4px; left: -4px; width: 4px; height: 4px; background: transparent;
            box-shadow: 64px 4px 0 rgb(199, 0, 0), 48px 8px 0 rgb(255, 90, 0), 60px 8px 0 rgb(199, 0, 0), 32px 12px 0 rgb(235, 255, 37), 44px 12px 0 rgb(255, 90, 0), 56px 12px 0 rgb(199, 0, 0), 28px 16px 0 rgb(238, 255, 0), 40px 16px 0 rgb(255, 90, 0), 24px 20px 0 rgb(238, 255, 0), 48px 20px 0 rgb(199, 0, 0), 60px 20px 0 rgb(255, 75, 0), 32px 24px 0 rgb(255, 90, 0), 44px 24px 0 rgb(179, 0, 0), 56px 24px 0 rgb(255, 75, 0), 16px 28px 0 rgb(238, 255, 0), 28px 28px 0 rgb(255, 102, 0), 40px 28px 0 rgb(179, 0, 0), 52px 28px 0 rgb(255, 75, 0), 12px 32px 0 rgb(238, 255, 0), 24px 32px 0 rgb(255, 102, 0), 36px 32px 0 rgb(179, 0, 0), 12px 36px 0 rgb(133, 0, 0), 16px 36px 0 rgb(97, 39, 0), 20px 36px 0 rgb(133, 0, 0), 24px 36px 0 rgb(133, 0, 0), 32px 36px 0 rgb(179, 0, 0), 44px 36px 0 rgb(255, 75, 0), 56px 36px 0 rgb(235, 255, 37), 8px 40px 0 rgb(97, 39, 0), 12px 40px 0 rgb(97, 39, 0), 16px 40px 0 rgb(133, 0, 0), 20px 40px 0 rgb(133, 0, 0), 24px 40px 0 rgb(97, 39, 0), 28px 40px 0 rgb(97, 39, 0), 40px 40px 0 rgb(255, 75, 0), 52px 40px 0 rgb(235, 255, 37), 4px 44px 0 rgb(97, 39, 0), 8px 44px 0 rgb(97, 39, 0), 12px 44px 0 rgb(97, 39, 0), 16px 44px 0 rgb(97, 39, 0), 20px 44px 0 rgb(97, 39, 0), 24px 44px 0 rgb(133, 0, 0), 28px 44px 0 rgb(133, 0, 0), 32px 44px 0 rgb(97, 39, 0), 36px 44px 0 rgb(255, 75, 0), 48px 44px 0 rgb(235, 255, 37), 4px 48px 0 rgb(82, 16, 0), 8px 48px 0 rgb(82, 16, 0), 12px 48px 0 rgb(97, 39, 0), 16px 48px 0 rgb(97, 39, 0), 20px 48px 0 rgb(97, 39, 0), 24px 48px 0 rgb(97, 39, 0), 28px 48px 0 rgb(133, 0, 0), 32px 48px 0 rgb(97, 39, 0), 4px 52px 0 rgb(51, 10, 0), 8px 52px 0 rgb(82, 16, 0), 12px 52px 0 rgb(82, 16, 0), 16px 52px 0 rgb(97, 39, 0), 20px 52px 0 rgb(97, 39, 0), 24px 52px 0 rgb(97, 39, 0), 28px 52px 0 rgb(97, 39, 0), 32px 52px 0 rgb(133, 0, 0), 40px 52px 0 rgb(235, 255, 37), 4px 56px 0 rgb(51, 10, 0), 8px 56px 0 rgb(51, 10, 0), 12px 56px 0 rgb(82, 16, 0), 16px 56px 0 rgb(82, 16, 0), 20px 56px 0 rgb(97, 39, 0), 24px 56px 0 rgb(97, 39, 0), 28px 56px 0 rgb(97, 39, 0), 32px 56px 0 rgb(97, 39, 0), 36px 56px 0 rgb(235, 255, 37), 8px 60px 0 rgb(51, 10, 0), 12px 60px 0 rgb(51, 10, 0), 16px 60px 0 rgb(82, 16, 0), 20px 60px 0 rgb(82, 16, 0), 24px 60px 0 rgb(97, 39, 0), 28px 60px 0 rgb(97, 39, 0), 12px 64px 0 rgb(51, 10, 0), 16px 64px 0 rgb(51, 10, 0), 20px 64px 0 rgb(82, 16, 0), 24px 64px 0 rgb(97, 39, 0);
        }
        .animated { animation: inseki 3s infinite linear; }
        @keyframes inseki {
            0% { transform: translate(800px,-300px) scale(1,1) rotate(0deg) skew(0deg,0deg); opacity: 1.0; }
            20% { transform: translate(500px,0px) scale(1.25,1.25) rotate(0deg) skew(1.5deg,1.5deg); opacity: 1.0; }
            40% { transform: translate(200px,300px) scale(1.5,1.5) rotate(0deg) skew(3deg,3deg); opacity: 1.0; }
            100% { transform: translate(-700px,1200px) scale(1.5,1.5) rotate(0deg) skew(3deg,3deg); opacity: 1.0; }
        }

        /* --- エディタ専用 UI --- */
        #editor-toolbar { 
            position: sticky; top: 0; width: 100%; 
            background: rgba(15, 15, 35, 0.95); padding: 10px 0; 
            display: flex; justify-content: center; flex-wrap: wrap; 
            gap: 10px; z-index: 1000; border-bottom: 1px solid var(--accent);
            backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
        }
        .tool-btn, .tool-select { background: #222; border: 1px solid #444; color: #fff; padding: 8px 12px; border-radius: 6px; cursor: pointer; font-size: 14px; transition: 0.2s; outline: none; }
        .tool-btn:hover, .tool-select:hover { border-color: var(--accent); background: #333; }
        .tool-btn.active { background: var(--accent); border-color: #fff; box-shadow: 0 0 10px var(--accent); }

        #foreColorPicker { padding: 0; width: 40px; height: 38px; border: 1px solid #444; cursor: pointer; background: #222; }

        /* --- エディターエリア --- */
        .editor-container { width: 95%; max-width: 900px; margin: 40px 20px; z-index: 1; }
        .card { 
            background: rgba(255, 74, 74, 0.1); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            border-radius: 20px; padding: 50px; border: 1px solid rgba(255, 0, 0, 0.25); 
            min-height: 80vh; box-shadow: 0 10px 50px rgba(0,0,0,0.5); display: flex; flex-direction: column;
        }

        .post-title { font-size: 32px !important; color: #ff0000; margin-bottom: 5px; border: none; background: transparent; width: 100%; outline: none; font-weight: bold; text-shadow: 0 0 20px rgba(255, 74, 74, 0.5); }
        .post-date { font-size: 14px; color: #888; margin-bottom: 30px; outline: none; }
        .editable { outline: none; line-height: 1.8; font-size: 1.1rem; color: #eee; flex-grow: 1; }

        h2 { color: #ff4a4a; border-bottom: 2px solid rgba(255,74,74,0.3); padding-bottom: 5px; }
        blockquote { background: rgba(255, 74, 74, 0.1) !important; border-left: 5px solid #ff4a4a !important; margin: 25px 0 !important; padding: 20px 25px !important; font-style: italic; border-radius: 0 10px 10px 0; }
        .editable img { max-width: 100%; border-radius: 10px; margin: 10px 0; cursor: pointer; transition: 0.2s; }
        .editable img:hover { outline: 2px solid #ff0000; }

        .blog-footer { margin-top: 50px; padding-top: 30px; border-top: 1px solid rgba(255,74,74,0.1); text-align: center; }
        .btn-home { display: inline-block; background: #ff0000; color: white; padding: 12px 30px; border-radius: 50px; text-decoration: none; font-weight: bold; transition: 0.3s; }

        @media (max-width: 768px) { .card { padding: 25px; } .post-title { font-size: 24px !important; } }
    </style>
</head>
<body>

    <div id="editor-toolbar">
        <button id="btn-bold" class="tool-btn" onclick="exec('bold')"><i class="fas fa-bold"></i></button>
        <button id="btn-italic" class="tool-btn" onclick="exec('italic')"><i class="fas fa-italic"></i></button>
        <button id="btn-underline" class="tool-btn" onclick="exec('underline')"><i class="fas fa-underline"></i></button>
        <button class="tool-btn" onclick="addLink()"><i class="fas fa-link"></i></button>
        <button class="tool-btn" onclick="document.getElementById('imgInput').click()"><i class="fas fa-image"></i></button>
        <input type="file" id="imgInput" hidden accept="image/*" onchange="insertImage(this)">
        
        <select class="tool-select" id="fontSizeSelect" onchange="exec('fontSize', this.value)">
            <option value="3">サイズ: 中</option>
            <option value="1">極小</option>
            <option value="2">小</option>
            <option value="4">大</option>
            <option value="5">特大</option>
            <option value="6">最大</option>
        </select>

        <input type="color" id="foreColorPicker" class="tool-btn" oninput="exec('foreColor', this.value)">
        
        <button id="btn-h2" class="tool-btn" onclick="toggleBlock('H2')">見出し</button>
        <button id="btn-quote" class="tool-btn" onclick="toggleBlock('blockquote')">引用</button>
        <button class="tool-btn" onclick="downloadAsZip()" style="background:#ff0000; border:none; font-weight:bold;"><i class="fas fa-file-archive"></i> ZIP保存</button>
        <button class="tool-btn" onclick="resetEditor()" style="background:#444; border:none; color:#bbb;"><i class="fas fa-trash-alt"></i> リセット</button>
    </div>

    <css-doodle click-to-update class="background">
        <style>@grid: 1 / 100vw 100vh / #0a0c27; background-size: 200px 200px; background-image: @doodle(@grid: 6 / 100%; @size: 4px; font-size: 4px; color: hsl(@r240, 30%, 50%); box-shadow: @m3x5(calc(4em - @nx * 1em) calc(@ny * 1em) @p(@m3(currentColor), @m2(transparent)), calc(2em + @nx * 1em) calc(@ny * 1em) @lp)););</style>
    </css-doodle>

    <div class="inseki-container"><div class="animated inseki"></div></div>

    <div class="editor-container">
        <article class="card">
            <header>
                <div id="post-title" class="post-title" contenteditable="true">記事のタイトル</div>
                <div id="post-date" class="post-date" contenteditable="true"></div>
                <hr style="border:0; border-top:1px solid rgba(255,0,0,0.2); margin-bottom:20px;">
            </header>
            <div id="editor" class="editable" contenteditable="true">
                <p>ここに本文を入力してください。</p>
            </div>
            <footer class="blog-footer">
                <a href="https://nattomaki10000.github.io/" class="btn-home"><i class="fas fa-home"></i> トップページに戻る</a>
            </footer>
        </article>
    </div>

    <script>
        const editor = document.getElementById('editor');
        const title = document.getElementById('post-title');
        const date = document.getElementById('post-date');

        function getTodayDateString() {
            const now = new Date();
            return `${now.getFullYear()}年${now.getMonth() + 1}月${now.getDate()}日`;
        }

        function exec(cmd, val = null) { 
            document.execCommand(cmd, false, val);
            syncToolbar(); autoSave();
        }

        function toggleBlock(tag) {
            const selection = window.getSelection();
            if (!selection.rangeCount) return;
            let node = selection.anchorNode;
            if (node.nodeType === 3) node = node.parentNode;
            let isInside = false;
            let current = node;
            while (current && current.id !== 'editor') {
                if (current.tagName === tag.toUpperCase()) { isInside = true; break; }
                current = current.parentNode;
            }
            exec('formatBlock', isInside ? 'p' : tag);
        }

        function addLink() {
            const url = prompt("URLを入力してください:");
            if (url) exec('createLink', url);
        }

        function insertImage(input) {
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => exec('insertImage', e.target.result);
                reader.readAsDataURL(file);
            }
        }

        function rgbToHex(rgb) {
            if (!rgb || !rgb.includes('rgb')) return '#ffffff';
            const match = rgb.match(/\d+/g);
            return '#' + match.slice(0, 3).map(x => parseInt(x).toString(16).padStart(2, '0')).join('');
        }

        function syncToolbar() {
            const selection = window.getSelection();
            if (!selection.rangeCount) return;
            let node = selection.anchorNode;
            if (node.nodeType === 3) node = node.parentNode;

            const computedStyle = window.getComputedStyle(node);
            document.getElementById('foreColorPicker').value = rgbToHex(computedStyle.color);
            document.getElementById('btn-bold').classList.toggle('active', document.queryCommandState('bold'));
            document.getElementById('btn-italic').classList.toggle('active', document.queryCommandState('italic'));
            document.getElementById('btn-underline').classList.toggle('active', document.queryCommandState('underline'));
            
            const fontSize = document.queryCommandValue('fontSize');
            if (fontSize) document.getElementById('fontSizeSelect').value = fontSize;

            let isH2 = false, isQuote = false, curr = node;
            while (curr && curr.id !== 'editor') {
                if (curr.tagName === 'H2') isH2 = true;
                if (curr.tagName === 'BLOCKQUOTE') isQuote = true;
                curr = curr.parentNode;
            }
            document.getElementById('btn-h2').classList.toggle('active', isH2);
            document.getElementById('btn-quote').classList.toggle('active', isQuote);
        }

        function autoSave() {
            const data = { title: title.innerText, date: date.innerText, content: editor.innerHTML };
            localStorage.setItem('nattomaki_blog_draft', JSON.stringify(data));
        }

        function loadSavedData() {
            const saved = localStorage.getItem('nattomaki_blog_draft');
            if (saved) {
                const data = JSON.parse(saved);
                title.innerText = data.title;
                date.innerText = data.date;
                editor.innerHTML = data.content;
            } else {
                date.innerText = getTodayDateString();
            }
        }

        function resetEditor() {
            if (confirm("入力内容をリセットしますか？")) {
                localStorage.removeItem('nattomaki_blog_draft');
                location.reload();
            }
        }

        [editor, title, date].forEach(el => el.addEventListener('input', autoSave));
        ['keyup', 'mouseup', 'click'].forEach(evt => editor.addEventListener(evt, syncToolbar));

        editor.addEventListener('click', (e) => {
            if (e.target.tagName === 'IMG') {
                const newWidth = prompt("幅(%)を指定 (10-100):", e.target.style.width.replace('%','') || '100');
                if (newWidth) { e.target.style.width = newWidth + '%'; e.target.style.height = 'auto'; autoSave(); }
            }
        });

        // --- 保存用テンプレート & ZIP生成 ---
        async function downloadAsZip() {
            const zip = new JSZip();
            const imgFolder = zip.folder("img");
            
            // 本文のクローンを作成して画像を処理
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = editor.innerHTML;
            const images = tempDiv.querySelectorAll('img');
            
            for (let i = 0; i < images.length; i++) {
                const img = images[i];
                const src = img.getAttribute('src');
                if (src && src.startsWith('data:')) {
                    const parts = src.split(';base64,');
                    const ext = parts[0].split('/')[1].split(';')[0] || 'png';
                    const fileName = `img_${i}.${ext}`;
                    imgFolder.file(fileName, parts[1], {base64: true});
                    img.setAttribute('src', `img/${fileName}`);
                }
            }

            // 出力用HTMLテンプレート (UIを除外)
            const outputHtml = `<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${title.innerText}</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js" defer><\/script>
    <script src="https://esm.sh/css-doodle/css-doodle.min.js?raw"><\/script>
    <style>
        :root { --accent: #ff4a4a; --bg: #0a0c27; }
        body { margin: 0; padding: 0; font-family: 'Poppins', sans-serif; background: var(--bg); color: #fff; min-height: 100vh; display: flex; flex-direction: column; align-items: center; }
        .background { position: fixed; inset: 0; z-index: -2; overflow: hidden; }
        .inseki-container { position: fixed; inset: 0; z-index: -1; pointer-events: none; }
        .inseki::before { content: ""; position: absolute; top: -4px; left: -4px; width: 4px; height: 4px; background: transparent; box-shadow: 64px 4px 0 rgb(199, 0, 0), 48px 8px 0 rgb(255, 90, 0), 60px 8px 0 rgb(199, 0, 0), 32px 12px 0 rgb(235, 255, 37), 44px 12px 0 rgb(255, 90, 0), 56px 12px 0 rgb(199, 0, 0), 28px 16px 0 rgb(238, 255, 0), 40px 16px 0 rgb(255, 90, 0), 24px 20px 0 rgb(238, 255, 0), 48px 20px 0 rgb(199, 0, 0), 60px 20px 0 rgb(255, 75, 0), 32px 24px 0 rgb(255, 90, 0), 44px 24px 0 rgb(179, 0, 0), 56px 24px 0 rgb(255, 75, 0), 16px 28px 0 rgb(238, 255, 0), 28px 28px 0 rgb(255, 102, 0), 40px 28px 0 rgb(179, 0, 0), 52px 28px 0 rgb(255, 75, 0), 12px 32px 0 rgb(238, 255, 0), 24px 32px 0 rgb(255, 102, 0), 36px 32px 0 rgb(179, 0, 0), 12px 36px 0 rgb(133, 0, 0), 16px 36px 0 rgb(97, 39, 0), 20px 36px 0 rgb(133, 0, 0), 24px 36px 0 rgb(133, 0, 0), 32px 36px 0 rgb(179, 0, 0), 44px 36px 0 rgb(255, 75, 0), 56px 36px 0 rgb(235, 255, 37), 8px 40px 0 rgb(97, 39, 0), 12px 40px 0 rgb(97, 39, 0), 16px 40px 0 rgb(133, 0, 0), 20px 40px 0 rgb(133, 0, 0), 24px 40px 0 rgb(97, 39, 0), 28px 40px 0 rgb(97, 39, 0), 40px 40px 0 rgb(255, 75, 0), 52px 40px 0 rgb(235, 255, 37), 4px 44px 0 rgb(97, 39, 0), 8px 44px 0 rgb(97, 39, 0), 12px 44px 0 rgb(97, 39, 0), 16px 44px 0 rgb(97, 39, 0), 20px 44px 0 rgb(97, 39, 0), 24px 44px 0 rgb(133, 0, 0), 28px 44px 0 rgb(133, 0, 0), 32px 44px 0 rgb(97, 39, 0), 36px 44px 0 rgb(255, 75, 0), 48px 44px 0 rgb(235, 255, 37), 4px 48px 0 rgb(82, 16, 0), 8px 48px 0 rgb(82, 16, 0), 12px 48px 0 rgb(97, 39, 0), 16px 48px 0 rgb(97, 39, 0), 20px 48px 0 rgb(97, 39, 0), 24px 48px 0 rgb(97, 39, 0), 28px 48px 0 rgb(133, 0, 0), 32px 48px 0 rgb(97, 39, 0), 4px 52px 0 rgb(51, 10, 0), 8px 52px 0 rgb(82, 16, 0), 12px 52px 0 rgb(82, 16, 0), 16px 52px 0 rgb(97, 39, 0), 20px 52px 0 rgb(97, 39, 0), 24px 52px 0 rgb(97, 39, 0), 28px 52px 0 rgb(97, 39, 0), 32px 52px 0 rgb(133, 0, 0), 40px 52px 0 rgb(235, 255, 37), 4px 56px 0 rgb(51, 10, 0), 8px 56px 0 rgb(51, 10, 0), 12px 56px 0 rgb(82, 16, 0), 16px 56px 0 rgb(82, 16, 0), 20px 56px 0 rgb(97, 39, 0), 24px 56px 0 rgb(97, 39, 0), 28px 56px 0 rgb(97, 39, 0), 32px 56px 0 rgb(97, 39, 0), 36px 56px 0 rgb(235, 255, 37), 8px 60px 0 rgb(51, 10, 0), 12px 60px 0 rgb(51, 10, 0), 16px 60px 0 rgb(82, 16, 0), 20px 60px 0 rgb(82, 16, 0), 24px 60px 0 rgb(97, 39, 0), 28px 60px 0 rgb(97, 39, 0), 12px 64px 0 rgb(51, 10, 0), 16px 64px 0 rgb(51, 10, 0), 20px 64px 0 rgb(82, 16, 0), 24px 64px 0 rgb(97, 39, 0); }
        .animated { animation: inseki 3s infinite linear; }
        @keyframes inseki { 0% { transform: translate(800px,-300px) scale(1,1) rotate(0deg) skew(0deg,0deg); opacity: 1.0; } 20% { transform: translate(500px,0px) scale(1.25,1.25) rotate(0deg) skew(1.5deg,1.5deg); opacity: 1.0; } 40% { transform: translate(200px,300px) scale(1.5,1.5) rotate(0deg) skew(3deg,3deg); opacity: 1.0; } 100% { transform: translate(-700px,1200px) scale(1.5,1.5) rotate(0deg) skew(3deg,3deg); opacity: 1.0; } }
        .container { width: 95%; max-width: 900px; margin: 40px auto; position: relative; z-index: 1; }
        .card { background: rgba(255, 74, 74, 0.1); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-radius: 20px; padding: 50px; border: 1px solid rgba(255, 0, 0, 0.25); min-height: 80vh; box-shadow: 0 10px 50px rgba(0,0,0,0.5); }
        .post-title { font-size: 32px; color: #ff0000; margin-bottom: 5px; font-weight: bold; text-shadow: 0 0 20px rgba(255, 74, 74, 0.5); }
        .post-date { font-size: 14px; color: #888; margin-bottom: 30px; }
        .content { line-height: 1.8; font-size: 1.1rem; color: #eee; }
        h2 { color: #ff4a4a; border-bottom: 2px solid rgba(255,74,74,0.3); padding-bottom: 5px; }
        blockquote { background: rgba(255, 74, 74, 0.1); border-left: 5px solid #ff4a4a; margin: 25px 0; padding: 20px 25px; font-style: italic; border-radius: 0 10px 10px 0; }
        img { max-width: 100%; border-radius: 10px; margin: 10px 0; }
        .footer { margin-top: 50px; padding-top: 30px; border-top: 1px solid rgba(255,74,74,0.1); text-align: center; }
        .btn-home { display: inline-block; background: #ff0000; color: white; padding: 12px 30px; border-radius: 50px; text-decoration: none; font-weight: bold; }
        @media (max-width: 768px) { .card { padding: 25px; } .post-title { font-size: 24px; } }
    </style>
</head>
<body>
    <css-doodle class="background"><style>@grid: 1 / 100vw 100vh / #0a0c27; background-size: 200px 200px; background-image: @doodle(@grid: 6 / 100%; @size: 4px; font-size: 4px; color: hsl(@r240, 30%, 50%); box-shadow: @m3x5(calc(4em - @nx * 1em) calc(@ny * 1em) @p(@m3(currentColor), @m2(transparent)), calc(2em + @nx * 1em) calc(@ny * 1em) @lp)););</style></css-doodle>
    <div class="inseki-container"><div class="animated inseki"></div></div>
    <div class="container">
        <article class="card">
            <header>
                <div class="post-title">${title.innerText}</div>
                <div class="post-date">${date.innerText}</div>
                <hr style="border:0; border-top:1px solid rgba(255,0,0,0.2); margin-bottom:20px;">
            </header>
            <div class="content">${tempDiv.innerHTML}</div>
            <footer class="footer">
                <a href="https://nattomaki10000.github.io/" class="btn-home">トップページに戻る</a>
            </footer>
        </article>
    </div>
</body>
</html>`;

            zip.file("index.html", outputHtml);
            const content = await zip.generateAsync({type:"blob"});
            const a = document.createElement('a');
            a.href = URL.createObjectURL(content);
            a.download = `${title.innerText.trim() || 'blog-post'}.zip`;
            a.click();
        }

        window.addEventListener('DOMContentLoaded', loadSavedData);
    </script>
</body>
</html>
